os:
 - linux
 - osx
language: python
python:
 # not actually using the travis python
 - "3.4"
 - "3.5"

install:
 - if [ "$TRAVIS_OS_NAME" == "linux" ]; then wget https://repo.continuum.io/miniconda/Miniconda3-latest-Linux-x86_64.sh -O miniconda.sh; fi
 - if [ "$TRAVIS_OS_NAME" == "osx" ]; then wget https://repo.continuum.io/miniconda/Miniconda3-latest-MacOSX-x86_64.sh -O miniconda.sh; fi
 - if [ "$TRAVIS_OS_NAME" == "windows" ]; then wget https://repo.continuum.io/miniconda/Miniconda3-latest-Windows-x86_64.sh -O miniconda.sh; fi

 - bash miniconda.sh -b -p $HOME/miniconda
 - export PATH="$HOME/miniconda/bin:$PATH"
 - hash -r
 - conda config --set always_yes yes 
 - conda install conda-build -y
 - conda create -q -n travis-env python=$TRAVIS_PYTHON_VERSION 
 - source activate travis-env
 - conda config --add channels omnia
 - conda config --add channels acellera
 - conda build --python $TRAVIS_PYTHON_VERSION package/htmd-data
 - conda install htmd-data --use-local
 - export BUILD_VERSION=$(date +%y.%m.%d)
 - export BUILD_NUMBER=0
 - conda build --python $TRAVIS_PYTHON_VERSION package/htmd
 - conda install htmd      --use-local

script:
 - htmd --help
# - anaconda upload /home/travis/miniconda3/conda-bld/linux-64/htmd-[0123]*.tar.bz2 -u acellera


